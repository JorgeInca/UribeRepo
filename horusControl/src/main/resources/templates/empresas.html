<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Empresas - Horus México</title>
    
   <!-- ORIGINAL Bootstrap core CSS -->
	<link href="dist/css/bootstrap.min.css" rel="stylesheet">
   <!-- ORIGINAL Custom styles for this template -->
	<link href="pricing.css" rel="stylesheet">
	
          
    <!-- Bootstrap ICONOS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
 
    <!--datables CSS básico-->
    <link rel="stylesheet" type="text/css" href="datatables/datatables.min.css"/>
    <!--datables estilo bootstrap 4 CSS-->  
    <link rel="stylesheet"  type="text/css" href="datatables/DataTables-1.10.18/css/dataTables.bootstrap4.min.css">
    
           
           
  </head>
    
  <body> 
  
  <input type="text" hidden id="nameUserHorus" th:value="${#authentication.name}" >
	<input type="text" hidden id="idUserHorus" >
	<input type="text" hidden id="emailUserHorus" >
  
  <div id="menuBarDiv"></div>

    <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
		<h1 class="display-4">Empresas</h1>
		<p class="lead">Pagina de Empresas</p>
	</div>
	
	
				<hr class="my-4">

							<!--<div class="jumbotron">

								<p class="lead" id="lambdaText">information.</p>
								<hr class="my-4">
							</div>-->
							
    <div style="display:flex; justify-content:flex-end; width:92%; padding:1%;">
    <button type="submit" class="btn btn-primary" id="limpiar" onclick="Empresas()">Nueva Empresa</button>
	</div>	
  
  <!--DataTables Horus-->
        <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="table-responsive">        
                        <table id="horus" class="table table-striped table-bordered" style="width:100%">
                        <thead>
                            <tr>                            
                                <th>Id_empresa</th>
                                <th>Nombre Empresa</th>
                                <th>Email</th> 
                                <th>Telefono</th>                                                                
                                <th>Estatus</th>  
                                <th>Editar</th>                                                     
                            </tr>
                        </thead>
                        
                        <tbody>
                        </tbody>       
                         
                       </table>                  
                    </div>
                </div>
        </div>          
      
      
      
      <!--Modal Empresas-->
<div class="modal fade" id="ModalEmpresas" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
	aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">

			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Formulario Empresas</h5>
				<button type="submit" class="close" data-dismiss="modal" aria-label="Close" id="clean">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">

				<div class="row justify-content-center">
				<div id="rowFolio" class="col-md-4">
					<div class="alert alert-info" role="alert" id="noFolio" >Id generado: <span class="row justify-content-center" ></span></div>
				</div>
				</div>
			</div>
			<div class="row">
				<p>.</p>
			</div>


			<div class="row justify-content-center">
				<div class="col-md-10">
					<form id="miForm" class="needs-validation" novalidate>
						<div class="form-group">
							<label for="noFolio1" class="col-form-label">Id_empresa:</label>
							<input type="text" class="form-control" id="noFolio1" placeholder="Id usuario" disabled>
						</div>
						<div class="form-group">
							<label for="form-name" class="col-form-label">Nombre:</label>
							<input type="text" class="form-control" id="form-name" placeholder="Name" required>
							<div class="invalid-feedback">
								Nombre requerido!
							</div>
							<div class="valid-feedback">
								Correcto!
							</div>
						</div>
						<div class="form-group">
							<label for="form-email" class="col-form-label">Email:</label>
							<input type="email" class="form-control" id="form-email" name="email"
								placeholder="Ejemplo@email.com" required>
							<div class="invalid-feedback">
								Email requerido!
							</div>
							<div class="valid-feedback">
								Correcto!
							</div>
						</div>

						<div class="form-group">
							<label for="form-phone" class="col-form-label">Phone:</label>
							<input type="tel" class="form-control" id="form-phone" placeholder="Telefono" required>
							<div class="invalid-feedback">
								Telefono requerido!
							</div>
							<div class="valid-feedback">
								Correcto!
							</div>
						</div>
					
						<div class="form-group">
							<label for="form-estatus" class="col-form-label">Estatus:</label>
							<select class="form-control" id="form-estatus" placeholder="Estatus" required>
								<option value="none" selected hidden>Seleccion una opcion</option>
								<option value="1">Administrador</option>
								<option value="2">Usuario</option>
							</select>
							<div class="invalid-feedback">
								Estatus requerido!
							</div>
							<div class="valid-feedback">
								Correcto!
							</div>
						</div>

				</div>
			</div>

			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" id="limpiarEmpresas"
					onclick="limpiarFormulario()">Limpiar formulario</button>
				<button type="submit" class="btn btn-secondary" data-dismiss="modal" id="clean2">Cerrar</button>
				<button type="submit" class="btn btn-secondary"  id="updateEmpresas"
					onclick="actualizaEmpresa()">Actualizar</button>
				<button type="submit" class="btn btn-primary" id="EnviarEmpresas"
					onclick="guardaEmpresa()">Enviar</button>
			</div>
		</div>
		</form>



	</div>
</div>
     
   
   	<div class="container" id="globalFooterBarDiv"></div>


	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>	
	
	<script src="assets/js/vendor/popper.min.js"></script>
	<script src="dist/js/bootstrap.min.js"></script>
	<script src="assets/js/vendor/holder.min.js"></script>
	<script src="js/generalTools.js"></script>	
	<script src="js/empresasTools.js"></script>
	
	<script>
		jQuery("#menuBarDiv").load("globalMenuBar.html");
		jQuery("#globalFooterBarDiv").load("globalFooterBar.html");
	</script>


	<script>
		Holder.addTheme('thumb', {
			bg: '#55595c',
			fg: '#eceeef',
			text: 'Thumbnail'
		});
	</script>

	<script>
		// Example starter JavaScript for disabling form submissions if there are invalid fields
		(function () {
			'use strict';
			window.addEventListener('load', function () {
				// Fetch all the forms we want to apply custom Bootstrap validation styles to
				var forms = document.getElementsByClassName('needs-validation');
				// Loop over them and prevent submission
				var validation = Array.prototype.filter.call(forms, function (form) {
					form.addEventListener('submit', function (event) {
						if (form.checkValidity() === false) {
							event.preventDefault();
							event.stopPropagation();
						}
						form.classList.add('was-validated');
					}, false);
				});
			}, false);
		})();
	</script>
	
	
	<script>
	cargaListaEmpresas();
	</script>
	
	<script>
		getUserData();
	</script>
	
	<!-- Boton Limpiar  -->
	 <script>
     function limpiarFormulario() {
     document.getElementById("miForm").reset();
     }
     </script>
     
      <script>
    document.addEventListener('DOMContentLoaded', function(){
    let formulario = document.getElementById('miForm');
    formulario.addEventListener('submit', function() {
      formulario.reset();
       });
     });
      </script>
      
        <script>
      $('#clean').click(function() {
    		document.getElementById("miForm").reset();
    	});
    			
      $('#clean2').click(function() {
    		document.getElementById("miForm").reset();
    	});
      

      </script>
      
 
	


    
   	<!-- datatables JS -->
    <script type="text/javascript" src="datatables/datatables.min.js"></script>    
    <script type="text/javascript" src="js/mainDatatable.js"></script>  
    
  </body>
  </html>